// Generated by CoffeeScript 1.3.3
(function() {

  window.plugins.logwatch = {
    bind: function(div, item) {},
    emit: function(div, item) {
      return wiki.getScript('http://cdn.sockjs.org/sockjs-0.3.min.js', function() {
        var print, sockjs;
        sockjs = new SockJS("/system/logwatch");
        print = function(m) {
          return div.append($("<li>").html(m));
        };
        sockjs.onopen = function() {
          return print("Connection Opened " + (JSON.stringify(sockjs.protocol)));
        };
        sockjs.onmessage = function(e) {
          var msg;
          msg = JSON.parse(e.data);
          return print(wiki.resolveLinks("[[" + msg.title + "]]"));
        };
        return sockjs.onclose = function() {
          return print("Connection Closed");
        };
      });
    }
  };

}).call(this);
